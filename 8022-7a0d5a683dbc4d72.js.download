"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8022],{67371:function(e,t,n){var r=n(52322),i=n(25574),o=n(75496),a=n(29065),s=n(8225),l=n(89663),u=n(64781),c=n(72579),d=n.n(c),p=n(27350),g=n(77622),m=n(2784),E=n(72398),h=n(81072),f=n(24225),_=n(10601),T=n(55423),O=n(83497),R=n(79805),P=n(76936),N=n(53723),A=n(10292),I=n(10457),S=n(44818);n(17421);var v=n(5984),C=n(53596),j=n(65316),y=n(1082),Z=n(5960),w=n(4299),U=n(83682),D=n(37930),L=n(50974),x=n(36163),b=n(33930),G=n(61879),k=n.n(G),q=n(69599),F=n(48794),M=n(71792),V=n(77439),W=n(88111),H=n(4965),Q=n(86516),Y=n(64905);let B=!1,$=e=>{B=e},z=function(){let{layout:{version:e}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{version:t}=p;t!==e&&(0,P.warn)("Client schema version (".concat(t,") does not match server schema version (").concat(e,")!"))};t.Z=function(e){let{advancedCaching:t=!1,authRequired:n=!1,isLendingOnboarding:c=!1,shouldDisplayFullPageSpinner:p=!1,isSalesFinance:P=!1,serviceAlertPaths:G=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},X=t=>{let{cookies:i,deviceType:G="",router:{pathname:X,route:J}}=t,K=sessionStorage.getItem(h.CUSTOMER_PROFILE_REFRESH),ee=(0,L.$)(),et=b.Z&&!(0,g.Z)(),{data:en,loading:er}=(0,l.c1)({fetchPolicy:K?"network-only":"cache-first",skip:!ee}),ei=ee&&!D.Z.getCsrfToken(),{loading:eo}=(0,s.Q)({fetchPolicy:"network-only",skip:!ei}),{handleAuthenticationChange:ea}=(0,R.Z)(),{loading:es}=(0,O.q)(),{customerId:el,enrollments:eu,featureFlags:ec}=d()(en,"profile",{}),[ed,ep]=(0,m.useState)(!1),[eg,em]=(0,m.useState)(!1),[eE,eh]=(0,m.useState)(!1);if((0,m.useEffect)(()=>{$(!1)},[]),(0,m.useEffect)(()=>{ea(ee?N.$o.AUTHENTICATED:N.$o.UNAUTHENTICATED)},[ee]),K&&sessionStorage.removeItem(h.CUSTOMER_PROFILE_REFRESH),n&&!ee&&!B)return(0,r.jsx)(E.Mutation,{mutation:u.Jb,variables:{shouldRedirect:!0,params:JSON.stringify({returnUrl:window.location.href})},children:(e,t)=>{let{called:n}=t;return n||(ep(!0),e()),null}});G&&(0,x.xd)(G);let ef=(0,V.ZP)({},{isSalesFinance:P});return(0,a.Z)(function(){var t;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:s,error:{networkError:l={}}={},loading:g,client:m}=a;if(g)return null;(null==a?void 0:null===(t=a.data)||void 0===t?void 0:t.layout)||Q.v.addAction(Y.Fd,{view:k()(X||J)});let E="1"===(0,T.ej)(T.QW),O=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;!B&&($(!0),ep(e),E||m.mutate({mutation:u.di,variables:{shouldRedirect:e,params:JSON.stringify(t),redirectUrl:n}}),ea(N.$o.UNAUTHENTICATED),E&&((0,L.W)(!1),(0,W.ZP)(f.CALLBACK_ROUTE,{logout:f.LOGOUT_ROUTE})))},R=(e,t)=>O(e,t,f.LOGOUT_ROUTE);if(null!==l&&401===l.statusCode&&n)return(0,M.Z)();z(s);let D={currentRoute:J,enrollments:eu,isSalesFinance:P,logoutAction:R,onRender:()=>eh(!0),partnerId:sessionStorage.getItem(h.SF_PARTNER_ID),query:ef},x=(0,o.Z)({instance:h.META_DATA})(j.Z),b=(0,o.Z)({instance:"amsAnalytics",renderIfNotOnPage:ee,ignoreRenderWarnings:!0,skipData:!0})(A.Z),G=(0,o.Z)({instance:"smartBanner"})(U.Z),V=(0,o.Z)({instance:c?"lendingOnboardingIdleTimer":"idleLogoutTimer",renderIfNotOnPage:!0,ignoreRenderWarnings:!0})(S.Z);if(ed||er||eo||es)return(0,r.jsx)(H.Y,{show:!0,fullPage:(!!er||!!eo)&&p});let K=(0,q.j4)(h.CUSTOMER_EXTERNAL_ID_SESSION[h.CLOUDFLARE_EXTERNAL_PARTY_CODE]),ei=(0,q.j4)(h.CUSTOMER_EXTERNAL_ID_SESSION[h.QUALTRICS_EXTERNAL_PARTY_CODE]);return n&&ee&&el&&!(K&&ei)&&!eg&&((0,q.Gf)({apolloClient:m,customerIds:[el],externalPartyCodes:[h.CLOUDFLARE_EXTERNAL_PARTY_CODE,h.QUALTRICS_EXTERNAL_PARTY_CODE]}),em(!0)),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(x,{}),(0,r.jsx)(G,{}),et&&(0,r.jsx)(Z.Z,{...D}),et&&eE&&(0,r.jsx)(v.Z,{currentRoute:J}),(0,r.jsx)(w.Z,{isV1Template:!0}),(0,r.jsx)(e,{cookies:i,isTopLevelPage:!0,query:ef,featureFlags:ec}),et&&(0,r.jsx)(C.Z,{enrollments:eu}),(0,r.jsx)(V,{authRequired:n,isOnboarding:c,logoutAction:R,onboardingTimeoutAction:()=>{if(ee)R();else{let e=(0,F.Z)(),t=P?f.SALES_FINANCE_PRESCREEN_ROUTE:f.HOME_PAGE_ROUTE;(0,W.ZP)(t,P?e:{notification:2});let n=window.location.href;t===n.split("?")[0]&&window.location.reload(!0)}}}),(0,r.jsx)(b,{...d()(en,"profile")}),(0,r.jsx)(I.Z,{customerId:el,enrollments:eu}),(0,r.jsx)(y.Z,{})]})},{view:k()(X||J)})},{getInitialProps:J}=e;return X.getInitialProps=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let{req:r}=t[0];return J&&"function"==typeof J?J(...t):{}},(0,i.Z)(X,{authRequired:n,serviceAlertPaths:G})}},90864:function(e,t,n){n.d(t,{$8:function(){return D},DV:function(){return U},VM:function(){return x},c_:function(){return b},iL:function(){return L},tj:function(){return w}});var r=n(67557),i=n(52322),o=n(2784),a=n(72398),s=n(13980),l=n.n(s),u=n(30382),c=n.n(u),d=n(40184),p=n(51525),g=n.n(p),m=n(77439),E=n(18119),h=n(26517),f=n(71825),_=n(98175),T=n(66553),O=n(32451),R=n(31591),P=n(24225),N=n(55423),A=n(35195),I=n.n(A),S=n(9454),v=n(88111),C=n(76035),j=n(81072),y=n(77622),Z=n(33930);let w="LOCKED_ACCOUNT_PAGE",U="LOGIN_PAGE",D="OTP_CHOICE_PAGE",L="OTP_ENTRY_PAGE",x="REQUEST_RESET_PASSWORD_PAGE",b="RESET_PASSWORD_PAGE";class G extends o.Component{async componentDidMount(){let{client:e,connectionId:t}=this.props;try{let n=await e.query({query:c()(f.Te),fetchPolicy:"cache-only"}),r=I()((0,d.Z)(n,"data.loginPageData",{}),null,void 0),{hasLoginFlowBeenInitialized:i}=r;i?this.showCurrentPage():((0,S.cZ)()?await (0,S.TB)(t):await (0,S.ZP)(t),this.initialize())}catch(e){return(0,C.ZP)({raw:e})}}render(){let{connectionId:e,updateLoginPageData:t,wrappedComponent:n}=this.props,{isVendorAuthFlow:r,showCurrentPage:o}=this.state;return o?(0,i.jsx)(n,{...this.props,connectionId:(0,S.Uc)()||e,isVendorAuthFlow:r,updateLoginPageData:t}):null}constructor(e){var t;super(e),t=this,(0,r.Z)(this,"initialize",async()=>{let{cookies:{[N.BF]:e,[N.Od]:t,[N.GH]:n,[N.dw]:r,[N.pu]:i}={},query:o={},query:{ap1:a,resumePath:s,returnUrl:l,timedout:u}={},updateLoginPageData:c}=this.props,d=(0,R.Z)(),p=window.location.search,g={initialQueryParams:p,hasLoginFlowBeenInitialized:!0};try{let E,h,f;if(s&&(g={...g,resumePathUrl:(0,O.a)(s,{excludeParams:!0}),resumePathQueryString:s,isVendorAuthFlow:!0}),l||d){let e=d?"".concat(P.SAVINGS_ACCOUNT_CREATION_ROUTE,"?referralcode=").concat(d):(0,m.dD)(p).returnUrl,t=(0,O.a)(e);t&&(g.returnUrl=decodeURI(t))}if(u&&"true"===u&&(g.hasSessionTimedOut=!0),i){let e=new Date(i),n=new Date;n.getTime()>e.getTime()?(0,_.Pw)():(E="1"===t,h=!0,f=e.getTime()-n.getTime())}let T=null,R={};h&&Z.Z&&!(0,y.Z)()?(g={...g,challengeRequired:E,identifierId:n||"",identifierType:r||"",isOTPReEntryFlow:h,isResetPasswordFlow:"true"===e,otpReEntryMillisecondsLeft:f},T=P.LOGIN_OTP_ENTRY_ROUTE):"true"===a&&(g={...g,challengeRequired:!0,isAP1ReEntryFlow:!0},T=P.LOGIN_ROUTE,R={...o}),await c({variables:{loginPageData:g}});let{isVendorAuthFlow:N}=g;this.setState({isVendorAuthFlow:N}),this.determineUserCurrentView(T,R)}catch(e){return(0,C.ZP)({raw:e})}}),(0,r.Z)(this,"determineUserCurrentView",function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{initializingPage:r}=t.props;if(e){let i=G.pageToRouteMapping[r];e===i?t.showCurrentPage():(0,v.Un)(e,n)}else t.checkIfPageAllowedToBeAccessedDirectly()}),(0,r.Z)(this,"checkIfPageAllowedToBeAccessedDirectly",()=>{let{initializingPage:e}=this.props,t=G.pageToRouteMapping[e];switch(t){case P.LOGIN_ROUTE:case P.LOGIN_REQUEST_RESET_PASSWORD_ROUTE:case P.LOGIN_RESET_PASSWORD_ROUTE:this.showCurrentPage();break;default:if(g()(Object.values(j.PUBLIC_APP_DOMAINS),e=>document.referrer.includes(e)))return this.showCurrentPage(),null;(0,v.Yy)(P.LOGIN_ROUTE)}}),(0,r.Z)(this,"showCurrentPage",()=>{this.setState({showCurrentPage:!0})}),this.state={showCurrentPage:!1,isVendorAuthFlow:!1}}}(0,r.Z)(G,"propTypes",{cookies:l().shape(),initializingPage:l().string.isRequired,query:l().shape(),wrappedComponent:l().func.isRequired,connectionId:l().string.isRequired,updateLoginPageData:l().func.isRequired,client:l().shape().isRequired}),(0,r.Z)(G,"defaultProps",{cookies:{},query:{}}),(0,r.Z)(G,"pageToRouteMapping",{[w]:P.LOGIN_LOCKED_ACCOUNT_ROUTE,[U]:P.LOGIN_ROUTE,[D]:P.LOGIN_OTP_CHOICE_ROUTE,[L]:P.LOGIN_OTP_ENTRY_ROUTE,[x]:P.LOGIN_REQUEST_RESET_PASSWORD_ROUTE,[b]:P.LOGIN_RESET_PASSWORD_ROUTE});let k=(0,a.withApollo)(G),q=e=>t=>n=>(0,i.jsx)(h.Z,{mutation:f.AI,children:r=>(0,i.jsx)(E.ZP,{query:T.W,fetchPolicy:"cache-first",children:o=>{let{loading:a,data:s}=o;return a?null:(0,i.jsx)(k,{...n,connectionId:(0,d.Z)(s,"data.connectionId.response.connectionId",""),initializingPage:e,updateLoginPageData:r,wrappedComponent:t})}})});t.ZP=q},80758:function(e,t,n){var r=n(52322),i=n(2784),o=n(83138),a=n(75496),s=n(27488),l=n(33930);let u=(0,a.Z)({instance:"loginOAuthVendorFooter",route:""})(o.Footer),c=e=>{let{breakpointOverrides:t={med:{col:[2,12]},lrg:{col:[4,10]}},className:n="",col:a=[1,13],row:c=[1,2],faqChildren:d=null,formChildren:p=null,isVendorAuthFlow:g=!1}=e,m=(0,s.Z)("page__content",{"page__content--form-spacing":l.Z&&!(0,o.pageInIframe)()},n),E=l.Z&&!(0,o.pageInIframe)()&&g;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("section",{className:m,children:(0,r.jsx)(o.Container,{children:(0,r.jsx)(o.Grid,{children:(0,r.jsx)(o.GridItem,{breakpointOverrides:t,col:a,row:c,children:p})})})}),l.Z&&!(0,o.pageInIframe)()&&(0,i.cloneElement)(d,{breakpointOverrides:t,col:a}),E&&(0,r.jsx)(u,{displayContactInfoInline:!0,shouldUseDynamicFooterContent:!0})]})};t.Z=c},31591:function(e,t,n){var r=n(77439);let i=()=>{let{referrer:e}=document||{},{query:{referralcode:t=null}={}}=(0,r.en)(e);return t};t.Z=i},33389:function(e,t,n){var r=n(52322);n(2784);var i=n(83138),o=n(97300);let a=e=>{let{breakpointOverrides:t={med:{col:[2,12]},lrg:{col:[3,11]}},col:n=[1,13],composable:s=!1,callUsMarkuo:l="",dataTestId:u="",headerText:c="",link:d={},questions:p=[],subHeaderMarkup:g="",marcusPayPhoneNumbers:{phoneNumberWithLetterSubstitution:m,phoneNumberFormatted:E}={}}=e;return(0,r.jsx)("section",{className:"bg--white bt--lighter",children:(0,r.jsx)(i.Container,{className:"".concat(a.displayName," page__content--form-spacing"),children:(0,r.jsx)(i.Grid,{children:(0,r.jsx)(i.GridItem,{className:"ta--left",breakpointOverrides:t,col:n,row:[1,2],children:(0,r.jsx)(i.AccordionGroup,{additionalTopMarkup:l,composable:s,dataTestId:u,headerText:c,link:d,sections:p,subHeaderMarkup:(0,o.Iu)(g,{phoneNumberWithLetterSubstitution:m,phoneNumberFormatted:E})})})})})})};a.displayName="FAQAccordion",t.Z=a},66553:function(e,t,n){n.d(t,{W:function(){return l}});var r=n(75190),i=n(30382),o=n.n(i);function a(){let e=(0,r.Z)(["\n  query connectionId($parameters: String, $queryString: String) {\n    data(parameters: $parameters, queryString: $queryString) {\n      connectionId {\n        error {\n          code\n          message\n        }\n        response {\n          connectionId\n        }\n      }\n    }\n  }\n"]);return a=function(){return e},e}function s(){let e=(0,r.Z)(["\n  query LendingConsents {\n    data {\n      lendingConsents {\n        error {\n          code\n          message\n          __typename\n        }\n        response {\n          name\n          version\n          accept\n        }\n        __typename\n      }\n      __typename\n    }\n  }\n"]);return s=function(){return e},e}let l=o()(a());o()(s())},27350:function(e){e.exports=JSON.parse('{"name":"@marcus/content-schema","version":"4.11.3","description":"Pre-defined schema for Marcus US GraphQL content","main":"dist/index.js","lint-staged":{"*.js":["eslint --fix","git add"]},"scripts":{"build":"node build && gulp default","bump":"npm --no-git-tag-version version","dev":"onchange \\"components/**/*/schema.js\\" \\"sources/**/*/index.js\\" \\"mutations/**/*.js\\" \\"mock/content/_v2/**/*\\" -i -- npm run build","lint":"eslint build components graphql mock mutations sources utils","postinstall":"node postinstall.js","outdated":"echo \\"Your npm dependencies are out of date.  Please run delete your node_modules and run \'npm i\' before continuing\\" && exit 1","test":"cross-env NODE_ENV=test jest","test:junit":"cross-env ENV=test cross-env NODE_ENV=test jest --coverage --reporters=default --reporters=jest-junit --watchAll=false --silent","test:changed":"cross-env NODE_ENV=test cross-env CI=true jest --colors --changedSince develop","convert-to-json":"cd mock && node convertToJson.js && cd ..","featureflag:qa":"gulp featureflagqa","featureflag:uat":"gulp featureflaguat","featureflag:prod":"gulp featureflagprod","validate":"node validate.js","validate:qa":"gulp featureflagqa && npm run validate -- qa","validate:uat":"gulp featureflaguat && npm run validate -- uat","validate:prod":"gulp featureflagprod && npm run validate -- prod"},"scriptComments":{"build":["NODE_ENV is development during build but production during runtime.","Use npm i --production to avoid installing npm devDependencies."],"test":["cross-env is used to inject NODE_ENV and ENV during builds.","Should always be test."]},"repository":{"type":"git","url":"https://gitlab.aws.site.gs.com/marcus/marcus-content-schema"},"author":"Goldman Sachs Bank USA","license":"UNLICENSED","engines":{"node":"^20.9.0","npm":"^10.1.0"},"pre-commit":["outdated"],"devDependencies":{"@babel/runtime":"7.14.8","babel-eslint":"10.0.1","concurrently":"4.1.0","cross-env":"5.2.0","eslint":"5.10.0","eslint-config-airbnb":"17.1.0","eslint-plugin-import":"2.17.2","eslint-plugin-jsx-a11y":"6.1.2","eslint-plugin-react":"7.13.0","husky":"4.2.5","jest":"26.4.0","jest-junit":"14.0.1","lint-staged":"10.2.11","onchange":"^4.1.0"},"dependencies":{"glob":"7.1.2","gulp":"4.0.2","gulp-change":"1.0.2","gulp-flatmap":"1.0.2","gulp-merge":"0.1.1","gulp-rename":"2.0.0","gulp-zip":"5.0.2","js-yaml":"3.14.0","lodash":"4.17.20","node-fetch":"2.7.0","parse-json":"5.1.0","semver":"7.5.4"},"overrides":{"unset-value":"2.0.1"},"jest-junit":{"suiteName":"Marcus Content Schema","outputDirectory":".","outputName":"test-reports/junit/junit.xml","classNameTemplate":"{classname}-{title}","titleTemplate":"{classname}-{title}","ancestorSeparator":" â€º ","usePathForSuiteName":"false"}}')}}]);